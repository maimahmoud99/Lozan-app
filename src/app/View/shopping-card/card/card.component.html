<div class="mt-3 xl:mt-4 xl:block pt-3 pb-1">
  <h6 class="text-2xl font-semibold text-gray-900 dark:text-white mx-4">
    العازل الحراري الأول فى السعودية
  </h6>

  <div class="mt-6 grid sm-grid-cols-2 lg:grid-cols-4 gap-10 sm:mt-8 mx-2">
    <ng-container *ngFor="let item of ListProduct">
      <div
        class="space-y-2 text-center overflow-hidden rounded-lg border border-1 bg-white p-2 shadow-sm dark:border-red-700 dark:bg-red-800"
      >
        <div class="relative">
          <button
            type="button"
            (click)="addFavorit(item.id!, !item.isFavorite)"
            class="absolute top-2 right-2 z-2 p-2 rounded-4 border-danger border-1 bg-white dark:bg-red-900"
            [ngClass]="{
              'text-red-500': item.isFavorite,
              'text-gray-400': !item.isFavorite
            }"
          >
            <div class="flex items-center justify-center h-6 w-6">
              <img src="assets/img/heart.svg" class=" " />
            </div>
          </button>

      <!-- <svg *ngIf="item.isFavorite" class="h-5 w-5 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <path d="M12 6C6.5 1 1 8 5.8 13l6.2 7 6.2-7C23 8 17.5 1 12 6Z" />
    </svg>
    <svg *ngIf="!item.isFavorite" class="h-4 w-5 stroke-current" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" d="M12 6C6.5 1 1 8 5.8 13l6.2 7 6.2-7C23 8 17.5 1 12 6Z" />
    </svg> -->
          <a
            [routerLink]="'/Card/productdetails/' + item.id"
            fragment="myDiv"
            class="overflow-hidden rounded"
          >
            <img
              class="mx-auto hidden h-60 w-44 dark:hidden"
              src="https://flowbite.s3.amazonaws.com/blocks/e-commerce/apple-watch-light.svg"
              alt="imac image"
            />
            <img
              class="mx-auto h-64 w-full object-contain dark:block"
              [src]="item.imageUrls[0]"
              alt="imac image"
            />
          </a>
          <div>
            <p
              class="text-center text-red-600 fw-bold d-flex justify-content-center mt-7"
            >
              {{ item.price }}
              <lucide-angular
                name="saudi-riyal"
                class="my-icon"
              ></lucide-angular>
              <span class="line-through font-light text-gray-500">1000</span>
              <i-lucide
                name="saudi-riyal"
                class="text-gray font-light h-5 w-5 text-gray-500"
              ></i-lucide>
            </p>
            <p class="text-center flex justify-center items-center gap-1"></p>
          </div>
          <div>
            <a
              [routerLink]="'/Card/productdetails/' + item.id"
              fragment="myDiv"
              class="text-lg cartName font-semibold leading-tight text-gray-900 hover:underline dark:text-white mt-6"
            >
              {{ item.name }}</a
            >
          </div>
          <!-- <div class="star-rating flex items-center gap-1"> -->
          <img
            src="assets/images/tamaraAndTabby.svg"
            class=""
          />

          <!-- </div> -->
          <div class="justify-center items-center"></div>
        </div>
        <div class="mt-6 flex items-center gap-2.5">
<button    (click)="addToCart(item)" type="button" class="inline-flex cardbutton w-full items-center justify-center rounded-lg outline-red-50 px-5 py-2.5 text-sm font-medium  text-red hover:bg-red-600 btn btn-outline-danger">
                  <i class="fas fa-shopping-bag mx-2" style="font-size: 18px;"></i>

                  اضافة للسلة
                </button>
          <button
            type="button"
            (click)="addFavorit(item.id!, true)"
            *ngIf="!item.isFavorite"
            class="inline-flex diplayMobilenone items-center justify-center gap-2 rounded-lg border border-gray-200 bg-white p-2.5 text-sm font-medium text-gray-900 hover:bg-gray-100 hover:text-red-500 focus:z-10"
          >
            <svg
              class="h-5 w-5 stroke-current"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 6C6.5 1 1 8 5.8 13l6.2 7 6.2-7C23 8 17.5 1 12 6Z"
              />
            </svg>
          </button>

          <button
            type="button"
            (click)="addFavorit(item.id!, false)"
            *ngIf="item.isFavorite"
            class="inline-flex diplayMobilenone items-center justify-center gap-2 rounded-lg border border-red-200 bg-red-100 p-2.5 text-sm font-medium text-red-500 hover:bg-red-200 hover:text-red-600 focus:z-10 focus:outline-none focus:ring-4 focus:ring-red-100 dark:border-red-600 dark:bg-red-800 dark:text-red-400 dark:hover:bg-red-700 dark:hover:text-white dark:focus:ring-red-700"
          >
            <svg
              class="h-5 w-5 fill-current"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
            >
              <path d="M12 6C6.5 1 1 8 5.8 13l6.2 7 6.2-7C23 8 17.5 1 12 6Z" />
            </svg>
          </button>

          <div
            id="favourites-tooltip-3"
            role="tooltip"
            class="tooltip invisible absolute z-10 inline-block rounded-lg bg-gray-900 px-3 py-2 text-sm font-medium text-white opacity-0 shadow-sm transition-opacity duration-300 dark:bg-gray-700"
          >
            Add to favourites
            <div class="tooltip-arrow" data-popper-arrow></div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>
<div class="container">
  <div
    class="d-flex justify-content-between align-items-center mb-4 mt-3 xl:mt-4 pt-3 pb-1"
  >
    <h3 class="mb-0 text-2xl font-semibold text-gray-900 dark:text-white mx-4">
      آراء العملاء
    </h3>
    <a
      href="#"
      class="p-0 text-lg font-bold text-red-600 no-underline cursor-pointer"
    >
      عرض الكل
    </a>
  </div>

  <div
    class="row flex-nowrap overflow-auto pb-1"
    style="scrollbar-width: none; -ms-overflow-style: none"
  >
    <style>
      .row::-webkit-scrollbar {
        display: none;
      }
    </style>

    <app-reviews
      [ratingobj]="{
        name: 'عبدالرحمن الصالحي',
        rating: 4.5,
        comment: 'ممتاز جداً، الخدمة كانت سريعة والمنتج فعّال',
        image: 'assets/img/man.png'
      }"
    >
    </app-reviews>

    <app-reviews
      [ratingobj]="{
        name: 'عبد الله العسيري',
        rating: 4.1,
        comment: 'عزل ممتاز',
        image: 'assets/img/man.png'
      }"
    >
    </app-reviews>
    <app-reviews
      [ratingobj]="{
        name: 'محمد الصالحي',
        rating: 4.1,
        comment: 'عزل ممتاز',
        image: 'assets/img/man.png'
      }"
    >
    </app-reviews>
  </div>
  <!-- success message added to cart successfully -->
<div 
  *ngIf="showSuccess" 
  [ngClass]="successShakeClass"
  id="successDiv"
  class="fixed rounded-md top-2 left-2 right-2 z-50 bg-green-500 text-white py-3 px-4 text-right text-sm sm:text-base shadow-md flex items-center gap-3 justify-between"
  style="max-width: 100vw; word-wrap: break-word;"
>
  <div class="flex items-center gap-3 flex-1">
    <div class="flex items-center justify-center w-6 h-6 rounded-full border border-white text-white text-xs font-bold">
      ✓
    </div>
    <p class="flex-1">{{ successMessage }}</p>
  </div>
  <button 
    (click)="showSuccess = false"
    class="text-white text-md font-bold hover:text-gray-200 transition duration-200"
    aria-label="Close"
  >
    x
  </button>
</div>




</div>

<ng-toast [style]="{ width: '300px' }"></ng-toast>
